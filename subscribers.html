<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ุงููุดุชุฑููู - OK Computer</title>
    <link rel="stylesheet" href="style.css?v=18.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="auth-system.js"></script>
    <script>AuthSystem.checkSession();</script>

    <script type="module">
        import { DataManager } from './data-manager.js';
        window.DataManager = DataManager;
        DataManager.init();
    </script>
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <i class="fas fa-chart-line"></i> OK Computer
            <span id="user-name-display"
                style="font-size:0.8rem; margin-right:10px;opacity:0.8;font-weight:normal;"></span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html"><i class="fas fa-home"></i> ุงูุฑุฆูุณูุฉ</a></li>
            <li id="nav-subscribers"><a href="subscribers.html" class="active"><i class="fas fa-users"></i>
                    ุงููุดุชุฑููู</a></li>
            <li id="nav-debts"><a href="debts.html"><i class="fas fa-money-bill-wave"></i> ุงูุฏููู</a></li>
            <li id="nav-payments"><a href="payments.html"><i class="fas fa-hand-holding-usd"></i> ุงูุตูุฏูู</a></li>
            <li id="nav-reports"><a href="reports.html"><i class="fas fa-chart-bar"></i> ุงูุชูุงุฑูุฑ</a></li>
            <li id="nav-employees"><a href="employees.html"><i class="fas fa-users-cog"></i> ุงูููุธููู</a></li>
            <li id="nav-telegram"><a href="telegram-settings.html"><i class="fab fa-telegram"></i> Telegram</a></li>
            <li><a href="#" onclick="AuthSystem.logout()"><i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ</a></li>
        </ul>
    </nav>

    <div class="container">
        <div class="header-card">
            <div>
                <h1>ุฅุฏุงุฑุฉ ุงููุดุชุฑููู</h1>
                <p>ูุงุฆูุฉ ุจุฌููุน ุงููุดุชุฑููู ูู ุงููุธุงู</p>
            </div>
            <div>
                <button onclick="openAddModal()" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i> ุฅุถุงูุฉ ูุดุชุฑู
                </button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="card">
                <input type="text" id="search" placeholder="ุจุญุซ ุจุงูุงุณู ุฃู ุงููุงุชู..." class="form-group"
                    style="width:100%; margin:0; border:none; box-shadow:none; padding:5px; font-size:1.1rem; outline:none;"
                    onkeyup="renderPage()">
                <i class="fas fa-search" style="color:var(--secondary);"></i>
            </div>
        </div>

        <!-- ุฃุฏุงุฉ ุงุณุชูุฑุงุฏ ุงูุฃุณูุงุก (ูุคูุชุฉ) -->
        <div style="margin-bottom: 20px; text-align: center;">
            <details>
                <summary style="cursor: pointer; color: var(--text-sub); font-size: 0.9rem;">ุฃุฏูุงุช ูุชูุฏูุฉ / ุงุณุชูุฑุงุฏ
                </summary>
                <div
                    style="background: #fff; padding: 20px; border-radius: var(--radius-lg); margin-top: 10px; border: 1px dashed #ccc;">
                    <p>ููุฌุฏ 104 ุงุณู ุฌุงูุฒ ููุงุณุชูุฑุงุฏ.</p>
                    <button onclick="importLegacySubscribers()" id="btn-import" class="btn btn-primary">
                        <i class="fas fa-file-import"></i> ุงุณุชูุฑุงุฏ 104 ูุดุชุฑู ุงูุขู
                    </button>
                    <div id="import-status" style="margin-top: 10px; font-size: 0.9rem; color: green;"></div>
                </div>
            </details>
        </div>

        <div class="table-container">
            <div class="table-header">
                <h3>ุณุฌู ุงููุดุชุฑููู</h3>
            </div>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>ุงูุงุณู</th>
                            <th>ุงููุงุชู</th>
                            <th>ุงูุญุงูุฉ</th>
                            <th>ุงูุฏูู</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal: Add Subscriber -->
    <div id="addSubscriberModal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h3>ุฅุถุงูุฉ ูุดุชุฑู ุฌุฏูุฏ</h3>
                <button class="close-btn" onclick="closeAddModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ุงูุงุณู ุงููุงูู</label>
                    <input type="text" id="new-name" placeholder="ุงุฏุฎู ุงูุงุณู">
                </div>
                <div class="form-group">
                    <label>ุฑูู ุงููุงุชู</label>
                    <input type="tel" id="new-phone" placeholder="07..." pattern="[0-9]{11}" maxlength="11"
                        title="ุฃุฏุฎู ุฑูู ูุงุชู ุนุฑุงูู ุตุญูุญ (11 ุฑูู)">
                </div>
                <div class="form-group">
                    <label>ุงูุฏูู ุงูุณุงุจู (ุฅู ูุฌุฏ)</label>
                    <input type="number" id="new-price" value="0">
                </div>
                <button onclick="saveNewSubscriber()" class="btn btn-primary btn-full" id="saveSubBtn">
                    <i class="fas fa-save"></i> ุญูุธ ุงูุจูุงูุงุช
                </button>
            </div>
        </div>
    </div>

    <!-- Modal: Subscriber Actions (Professional) -->
    <div id="actionModal" class="modal-overlay">
        <div class="modal-box" style="text-align: center;">
            <div class="modal-header">
                <h3 id="actionSubName">ุฎูุงุฑุงุช ุงููุดุชุฑู</h3>
                <button class="close-btn" onclick="closeActionModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <button onclick="actionActivate()" class="btn btn-success"
                        style="padding: 20px; flex-direction: column; gap: 10px;">
                        <i class="fas fa-wifi" style="font-size: 2rem;"></i>
                        <span>ุชูุนูู / ุชุฌุฏูุฏ</span>
                    </button>
                    <button onclick="actionEdit()" class="btn btn-primary"
                        style="padding: 20px; flex-direction: column; gap: 10px;">
                        <i class="fas fa-edit" style="font-size: 2rem;"></i>
                        <span>ุชุนุฏูู ุจูุงูุงุช</span>
                    </button>
                </div>
                <!-- Call Button -->
                <button onclick="actionCall()" class="btn btn-success btn-full" id="callBtn"
                    style="margin-bottom: 15px; display: none;">
                    <i class="fas fa-phone"></i> ุงุชุตุงู ุจุงููุดุชุฑู
                </button>
                <button onclick="actionDelete()" class="btn btn-outline btn-full"
                    style="color: var(--danger); border-color: var(--danger);">
                    <i class="fas fa-trash"></i> ุญุฐู ุงููุดุชุฑู
                </button>
            </div>
        </div>
    </div>

    <!-- Modal: Quick Activate -->
    <div id="quickActivateModal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h3>ุชุฌุฏูุฏ ุงูุงุดุชุฑุงู</h3>
                <button class="close-btn" onclick="closeQuickActivate()">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="qa-id">
                <input type="hidden" id="qa-fid">
                <div class="form-group">
                    <label>ุงููุจูุบ ุงููุทููุจ</label>
                    <input type="number" id="qa-price" value="35000">
                </div>
                <div class="form-group">
                    <label>ุทุฑููุฉ ุงูุฏูุน</label>
                    <select id="qa-type">
                        <option value="ููุฏ">ููุฏ (ูุงุตู)</option>
                        <option value="ุฃุฌู">ุฃุฌู (ุฏูู)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ููุชูู ูู</label>
                    <input type="date" id="qa-end">
                </div>
                <button onclick="saveQuickActivate()" class="btn btn-success btn-full">ุชุฌุฏูุฏ ุงูุขู</button>
            </div>
        </div>
    </div>

    <script>
        let selectedSubscriber = null;

        window.renderPage = function () {
            if (typeof DataManager === 'undefined') return;
            const q = document.getElementById('search').value;
            const subs = DataManager.searchSubscribers(q);
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            if (subs.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" style="text-align:center; padding:30px; color:var(--secondary);">ูุง ุชูุฌุฏ ุจูุงูุงุช ููุนุฑุถ</td></tr>';
                return;
            }

            subs.forEach(s => {
                let statusClass = s.status === 'ูุดุท' ? 'badge badge-success' : 'badge badge-warning';
                let debtClass = s.price > 0 ? 'text-danger' : 'text-success';

                // Add click event to the row
                tbody.innerHTML += `
                    <tr onclick="openActionModal('${s.id}')" style="cursor: pointer;">
                        <td data-label="ุงูุงุณู" style="font-weight:bold;">${s.name}</td>
                        <td data-label="ุงููุงุชู">${s.phone || '-'}</td>
                        <td data-label="ุงูุญุงูุฉ"><span class="${statusClass}">${s.status || 'ุบูุฑ ูุญุฏุฏ'}</span></td>
                        <td data-label="ุงูุฏูู" class="${debtClass}" style="font-weight:bold;">
                            ${parseInt(s.price || 0).toLocaleString()}
                        </td>
                    </tr>
                `;
            });
        };

        // Open Action Modal
        window.openActionModal = function (id) {
            selectedSubscriber = DataManager.getSubscriber(id);
            if (!selectedSubscriber) return;

            document.getElementById('actionSubName').innerText = selectedSubscriber.name;

            // Show/hide call button based on phone availability
            const callBtn = document.getElementById('callBtn');
            if (selectedSubscriber.phone && selectedSubscriber.phone.trim()) {
                callBtn.style.display = 'block';
            } else {
                callBtn.style.display = 'none';
            }

            document.getElementById('actionModal').classList.add('active');
        };

        window.closeActionModal = () => document.getElementById('actionModal').classList.remove('active');

        // Action: Call Subscriber
        window.actionCall = function () {
            if (!selectedSubscriber || !selectedSubscriber.phone) return;
            window.location.href = 'tel:' + selectedSubscriber.phone;
        };

        // Action Handlers
        window.actionActivate = function () {
            closeActionModal();
            // Open Quick Activate Modal
            const today = new Date();
            const nextMonth = new Date();
            nextMonth.setDate(today.getDate() + 30);

            document.getElementById('qa-id').value = selectedSubscriber.id;
            document.getElementById('qa-fid').value = selectedSubscriber.firebaseId;
            document.getElementById('qa-end').value = nextMonth.toISOString().split('T')[0];
            document.getElementById('quickActivateModal').classList.add('active');
        };

        window.closeQuickActivate = () => document.getElementById('quickActivateModal').classList.remove('active');

        window.saveQuickActivate = async function () {
            const fid = document.getElementById('qa-fid').value;
            const id = document.getElementById('qa-id').value;
            const price = document.getElementById('qa-price').value;
            const type = document.getElementById('qa-type').value;
            const end = document.getElementById('qa-end').value;

            try {
                await DataManager.renewSubscription(fid, id, {
                    price: parseInt(price),
                    type: type,
                    dateEnd: end
                });
                closeQuickActivate();
                alert('ุชู ุงูุชุฌุฏูุฏ ุจูุฌุงุญ');
            } catch (e) {
                alert('ุฎุทุฃ');
            }
        };

        window.actionEdit = async function () {
            closeActionModal();
            const newName = prompt("ุชุนุฏูู ุงูุงุณู:", selectedSubscriber.name);
            const newPhone = prompt("ุชุนุฏูู ุงููุงุชู:", selectedSubscriber.phone);

            if (newName && newName !== selectedSubscriber.name || newPhone !== selectedSubscriber.phone) {
                await DataManager.updateSubscriber(selectedSubscriber.id, { name: newName, phone: newPhone });
            }
        };

        window.actionDelete = async function () {
            closeActionModal();
            await DataManager.deleteSubscriber(selectedSubscriber.id);
        };

        window.openAddModal = () => document.getElementById('addSubscriberModal').classList.add('active');
        window.closeAddModal = () => document.getElementById('addSubscriberModal').classList.remove('active');

        window.saveNewSubscriber = async function () {
            const btn = document.getElementById('saveSubBtn');
            const name = document.getElementById('new-name').value;
            const phone = document.getElementById('new-phone').value;
            const price = document.getElementById('new-price').value || 0;

            if (!name) return alert('ูุฌุจ ูุชุงุจุฉ ุงูุงุณู ุนูู ุงูุฃูู');

            btn.disabled = true;
            btn.innerHTML = 'ุฌุงุฑู ุงูุญูุธ...';

            try {
                await DataManager.addSubscriber({
                    name: name,
                    phone: phone,
                    initialPrice: parseInt(price),
                    status: 'ูุดุท',
                    paymentType: parseInt(price) > 0 ? 'ุฃุฌู' : 'ููุฏ',
                    expiryDate: ''
                });

                closeAddModal();
                document.getElementById('new-name').value = '';
                document.getElementById('new-phone').value = '';
            } catch (e) {
                alert('ุฎุทุฃ');
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-save"></i> ุญูุธ ุงูุจูุงูุงุช';
            }
        };

        window.loading = false;
        window.updatePageData = window.renderPage;
        setInterval(() => { if (typeof DataManager !== 'undefined') renderPage(); }, 1000);

        // ๐ข ูุงุฆูุฉ ุงูุฃุณูุงุก ููุงุณุชูุฑุงุฏ
        const legacyNames = [
            "ูููุฏ ูุงุฌุฏ ุงูุญุดุฏ ุฌูุฑุงู ููู", "ูุณุงู ููุงุจู ูุดูุงู", "ูุณุงู ุงูุนูููู", "ูููุญ", "ูุดูุงู",
            "ูุฌุงุญ ุงุจู ุนูู ุฌุงุฑ ุณูุฏ ุทุงูุจ", "ูููู ุตุฏููู", "ููุณู ุฌุงุฑ ุณูุฏ ูุงุฏู", "ูููุฏ ุดุงูุฑ ุชูุนูู ููู 22",
            "ููุฏู ูููุญ", "ููุฏู ุงุณูุงู", "ูุตุทูู ุฎููู", "ูุฑุชุถู ูุนูุงููุฉ", "ูุญูุฏุงููุฑุดุฏุงูู",
            "ูุญูุฏ ููุงุจูู ุนููุฏ", "ูุญูุฏ ูุฑุงุฌ ุงูุบุงุฒ ุงูุจูุช 35", "ูุญูุฏ ูุงุฑุฌ ุงูุบุงุฒ", "ูุญูุฏ ุดุจูุท ุฌุฏูุฏ",
            "ูุญูุฏ ุฌุงุฑ ุนููุฏ", "ูุญูุฏ ุฌุงุฑ ุตุฏุงู ุฌุฏูุฏ", "ูุญูุฏ ุงููุงุฆูู ุฌุงุฑ ูุงุธู", "ูุญุณู ุงููุฑูุดู ุฎูู ุงูุจุฑุฌ",
            "ูุญุณู ุงููุฑูุดู ุฌุงุฑ ุงุจู ูุณุงู", "ูุฑุงูุจ ูุงุณู ุฌุงุฑ ุณูุฏ ูุงูู", "ูุฑุงุฑ ูุงูู", "ูุฑุงุฑ ุงุฎู ุณุญุงุฏ ูุญูุฏ 35",
            "ูุงุธู ุฌุงุฑ ุณุงูุฑ 35", "ูุงุธู ุจูุช ุงุจู ุฎูู 35", "ูุฑู", "ูุงุถู ุฌุงุฑ ุงูุดุจูุฉ 35",
            "ุนูุงุฑ ูุงุณุฑ ุฌุงุฑ ุญุณูู ุตุฏุงู", "ุนูุงุฑ ูุงุณุฑ", "ุนูู ุญููู ุฌุฏุจุฏ", "ุนูู ุงููุตูุฑ",
            "ุนูู ุงูุฏุฑุงุฌู ุฑูู ุงูุดุจุฉ", "ุนูู ุงูุฏุฑุงุฌู ุฌุงุฑ ููุฑ", "ุนูู ุงูุฏุฑุงุฌู ุฌุงุฑ ุญูุฏุฑ ุงูุฎููุฉ",
            "ุนูู ุงุญูุฏ ูุฌุงูุฑ ุงุจู ุฑููุฉ 35", "ุนูุงูู ุงูุนูุฒู", "ุนููู ุงูุทูุจ ุฎูู", "ุนุจุฏ ุงููู ุฌุงุฑ ุนุจุงุณ",
            "ุนุจุฏ ุงููู ุฌุงุฑ ุถูุงุก", "ุนุจุงุณ ูุฑุงูุจ ูุงุณู", "ุนุจุงุณ ุงูุณูุงุฌ", "ุนุงูุฏ ุงุจู ุจูุช ุงุจู ุนุงูุฏ 35",
            "ุถูุงุก ููุงุจูู ุจูุช ุญุณูู ููุงุฏ 35", "ุตูุงุญ ุงุจู ุนูู ุฌุงุฑ ุงุจู ููุณู", "ุตูุงุญ ุงุจู ุญูุฏุฑ",
            "ุดูุฑุงู ุฌุณุงู ูุฑุน ุงุจูุนูุงุก 35 44801", "ุณูู ุงุจู ุนุจุงุณ", "ุณูุฏ ูุงุฏู ุงุฎู ุณูุฏ ููุฏู ุถูุง ูุฑุน ุงููุฑุงุฌ",
            "ุณูุฏ ูุงุถู", "ุณูุฏ ุทุงูุจ ูุน ุฌุงุฑู", "ุณู ุณุนุฏ", "ุณุฌุงุฏ ุดุงุฑุน ุงูุงุณูุงู", "ุณุชุงุฑ ูุฑุน ูุญูู",
            "ุณุงูุฑ", "ุญูุฏุฑ ูุฑูู", "ุญูุฏุฑ ุณูุฏ ูุงูู", "ุญูุฏุฑ ุณุงุจุท", "ุญุณูู ุฌุงุฑ ูุฑุงุฑ", "ุญุณูู ุงุจู ูุญูุฉ",
            "ุญุณู ุงูุฎููุงูู 35", "ุฌูุงุฑูู ูููุญ", "ุฌุนูุฑ ูุนูุงููุฉ", "ุชุงุชุง", "ุจูุช ุนููู",
            "ุจูุช ุงุจู ูุณุงู ุงููุฑูุดู 35", "ุงูุณ ุฌุงุฑ ุงุจู ุฑููุฉ", "ุงูุณ ุฌุงุฑ ุงุจู ุฑููุฉ", "ุงู ุฑุถุง ุฌุงุฑ ุงูุณ",
            "ุงูุณุงุนุฏู 3", "ุงูุณุงุนุฏู", "ุงุฑุดุฏ ุฎูู ุดูุฑุงู", "ุงุญูุฏ ูุนูู", "ุงุญูุฏ ูุฌูุฏ ุงุจู ุงูููุฉ ุฌูุฑุงู ุงูุณ 35",
            "ุงุญูุฏ ุนุจูุฏ ุฌุฏูุฏ", "ุงุจู ููุณู ุญุณููู", "ุงุจู ููุฑ ูุฑุน ุถูุงุก", "ุงุจู ููุณู ุฌุงุฑ ุงุจู ุนูุงุก",
            "ุงุจู ููุงู ููุงุจูู ุงุจู ุฑููุฉ", "ุงุจู ููุชุฏู", "ุงุจู ูุนุตููุฉ 35", "ุงุจู ูุตุทูู ุฌุงุฑ ุนุงุฏู ุตูุฑ",
            "ุงุจู ุนูู ุฌุงุฑ ููุฑ ุชูุชู", "ุงุจู ุนุจุงุณ ูุชููุฉ", "ุงุจู ุนุจุงุณ ูุชููุฉ", "ุงุจู ุณูู ูุฑุน ูุญูู 35",
            "ุงุจู ุณูู ุนู ููุชุฏู", "ุงุจู ุณุฌุงุฏ ุฌุงุฑ ุงูุจุฑุฌ", "ุงุจู ุฒููุจ ููุฑุจุงุก", "ุงุจู ุฑููู ุฌุงุฑ ุงูุณ",
            "ุงุจู ุฑููุฉ ุดุงุฑุน ุงูุจุฏู", "ุงุจู ุฑููุฉ ุฌุงุฑ ุงุญูุฏ ุฌุงููุฌ", "ุงุจู ุฑุณูู ุฌุงุฑ ุงูุจุฑุฌ 35",
            "ุงุจู ุญูุฑุฉ ุดุงุฑุน ูุฑูุด", "ุงุจู ุญูุฑุฉ", "ุงุจู ุญุณูู ุดุงุฑุน ููู 2", "ุงุจู ุญุณูู ุดุงุฑุน ุงุจู ุฌูุงูุฉ",
            "ุงุจู ุงุญุณุงู ุฌุฏูุฏ", "ุฃุจู ุฒููุจ ุดุงุฑุน ุงุญูุฏ ุงุจู ุงูุงุณูุงู 1", "35 ูุญูุฏ ูุฑุงุฌ ุงูุบุงุฒ ุชูุฒุงุจ",
            "ุญูุฒุฉ ุงูููุงุญู", "ุงุจู ุนูุงุก ุฑูู"
        ];

        window.importLegacySubscribers = async function () {
            const btn = document.getElementById('btn-import');
            const status = document.getElementById('import-status');

            if (!confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุงุณุชูุฑุงุฏ ' + legacyNames.length + ' ูุดุชุฑูุ ุณูุชู ุฅุถุงูุชูู ููุงุนุฏุฉ ุงูุจูุงูุงุช ููุฑุงู.')) return;

            btn.disabled = true;
            status.innerHTML = 'โณ ุฌุงุฑู ุงููุนุงูุฌุฉ... ูุฑุฌู ุงูุงูุชุธุงุฑ ูุนุฏู ุฅุบูุงู ุงูุตูุญุฉ';

            let addedCount = 0;
            let skippedCount = 0;

            // ุฌูุจ ุงููุดุชุฑููู ุงูุญุงูููู ููุชุญูู ูู ุงูุชูุฑุงุฑ
            const currentSubs = DataManager.subscribers || [];
            const currentNames = new Set(currentSubs.map(s => s.name.trim()));

            for (const name of legacyNames) {
                if (currentNames.has(name.trim())) {
                    skippedCount++;
                    status.innerHTML = `โ๏ธ ุชุฎุทู ุงูููุฑุฑ: ${name} (${addedCount + skippedCount}/${legacyNames.length})`;
                    continue;
                }

                try {
                    await DataManager.addSubscriber({
                        name: name.trim(),
                        phone: '', // ูุง ููุฌุฏ ูุงุชู
                        initialPrice: 0, // ูุง ููุฌุฏ ุฏูู
                        status: 'ูุดุท',
                        paymentType: 'ููุฏ',
                        expiryDate: '' // ุชุงุฑูุฎ ุงูููู ุชููุงุฆูุงู
                    });
                    addedCount++;
                    status.innerHTML = `โ ุชูุช ุฅุถุงูุฉ: ${name} (${addedCount + skippedCount}/${legacyNames.length})`;
                    // ุชุฃุฎูุฑ ุจุณูุท ูุชุฎููู ุงูุถุบุท ุนูู ุงููุชุตูุญ
                    await new Promise(r => setTimeout(r, 50));
                } catch (e) {
                    console.error('Error adding ' + name, e);
                }
            }

            status.innerHTML = `๐ ุชู ุงูุงูุชูุงุก! ุชูุช ุฅุถุงูุฉ ${addedCount} ูุดุชุฑู ุจูุฌุงุญ. (ุชู ุชุฎุทู ${skippedCount} ููุฑุฑ).`;
            btn.innerHTML = 'ุชู ุงูุงุณุชูุฑุงุฏ ุจูุฌุงุญ';
            btn.classList.remove('btn-primary');
            btn.classList.add('btn-success');

            // ุชุญุฏูุซ ุงูุฌุฏูู
            renderPage();
            // ุฅุธูุงุฑ ุฑุณุงูุฉ ุงููุฌุงุญ
            alert(`ุชู ุงุณุชูุฑุงุฏ ${addedCount} ูุดุชุฑู ุจูุฌุงุญ!`);
        };
    </script>
</body>

</html>